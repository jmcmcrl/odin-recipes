/* Version=4.12.0,Timestamp=2025-06-26T09:20:19.782Z */

!function(){var e,t,i,r,l={7150:function(e,t,i){"use strict";i.d(t,{YJ:function(){return l},qs:function(){return r}});function r(e,t){return t?t.querySelector(e):document.querySelector(e)}function l(e,t){return t?t.querySelectorAll(e):document.querySelectorAll(e)}},189:function(e,t,i){(async()=>{const e=await i.e(2334).then(i.t.bind(i,2334,23));e.registerHelper("divide",(function(e,t){return e&&t?parseInt(e):0})),e.registerHelper("ifEquals",(function(e,t,i){return e!==t?i.fn(this):i.inverse(this)})),e.registerHelper("ifEquals2",(function(e,t,i){return e==t?i.fn(this):i.inverse(this)})),e.registerHelper("ifConSearch",(function(e,t,i){return e==t?i.fn(this):null})),e.registerHelper("ifTwoCondExists",(function(e,t,i){return e&&t?i.fn(this):null})),e.registerHelper("checkval",(function(e,t,i){return e>t?i.fn(this):i.inverse(this)})),e.registerHelper("limit",(function(e,t){return Array.isArray(e)?e.slice(0,t):[]})),e.registerHelper("and",(function(e,t,i){return e&&t?i.fn(this):i.inverse(this)})),e.registerHelper("boldKey",(function(e,t){if(e&&"string"==typeof e){if(t&&"string"==typeof t){let i=e.split(" ")?e.split(" "):e;return Array.isArray(i)?e.split(" ").map((e=>e.toLowerCase().match(t.trim().toLowerCase())?"<strong>"+e+"</strong>":e)).join(" "):e}return e}})),e.registerHelper("prioritval",(function(e,t){if(t&&"string"==typeof t){let i=t.split("~"),r=e[i[0].split("/")[0]]&&e[i[0].split("/")[0]][i[0].split("/")[1]]?e[i[0].split("/")[0]][i[0].split("/")[1]]:"",l=e[i[1].split("/")[0]][i[1].split("/")[1]]?e[i[1].split("/")[0]][i[1].split("/")[1]]:"";if(r)return r;if(l)return l}})),e.registerHelper("modifyproducturl",(function(e,t,i,r,l,s){let a="url_key",n="url_rewrites",c="",o=t.pdpCategories,d="retailerTemplate",u="{{category-name}}",p=null,m="",h=null,g="",f=decodeURIComponent(e);if(i&&"string"==typeof i){let e=t[i.split("~")[0].split("/")[0]]||null;e&&(h=e)}if(f.indexOf(u)>-1&&(g=f.slice(f.indexOf(u)-1),p=g[0]),g&&h&&h[d]&&(m=p+h[d]),t[n]&&t[n].length>1){let e="",i="";t[n].forEach((t=>{t.url&&t.url.length>e.length&&(e=t.url)})),i=e.length&&e.split("/"),o&&i&&o.length&&i.length&&o.indexOf(i[0])>-1?(c=e.replace(".html",""),c=e.replace(".html","").replace(/\./g,"-")):(c=t[a]||"",c=t[a].replace(/\./g,"-")||"")}else t[a]&&(c=t[a],c=t[a].replace(/\./g,"-"));if(c=encodeURIComponent(c),c&&c.length){if(l){let t=s.toLowerCase().replace(/['\s]/g,"");return decodeURIComponent(e).replace(/(\{\{subbrand-name\}\}|%7B%7Bsubbrand-name%7D%7D)/g,t).replace("{{product-name}}",c).replace("{{product-id}}",r).replace(/[-\/]\{\{category-name\}\}/g,"")}return decodeURIComponent(e).replace("{{product-name}}",c).replace("{{product-id}}",r).replace(g,m)}return""})),e.registerHelper("modifyrecipeurl",(function(e,t,i){if(t){let r=t.replace(/[^ a-zA-Z0-9-]/g,"").replace(/\s+/g," ").replace(/ /g,"-").replace(/-+/g,"-").toLowerCase();if(e&&e.length)return decodeURIComponent(e).replace("{{recipe-name}}",r).replace("{{recipe-id}}",i)}return""})),e.registerHelper("modifyrecipesearchurl",(function(e,t,i){if(t){let e=t.replace(/[^ a-zA-Z0-9-]/g,"");var r=e?e.split(" ").join("-").replace(/-+/g,"-").toLowerCase():t.split(" ").join("-").replace(/-+/g,"-").toLowerCase()}return e&&e.length?decodeURIComponent(e).replace("{{recipe-name}}",r).replace("{{recipe-id}}",i):""})),e.registerHelper("modifyasseturl",(function(e,t){if(t)return decodeURIComponent(e).replace("{{asset-id}}",t)})),e.registerHelper("trimText",(function(e,t){let i=94;if(t&&(i=t),e)return e.trim().substring(0,i)})),e.registerHelper("showSuggestionsText",(function(e,t){return e&&e.length||t})),e.registerHelper("checkActive",(function(e,t){if(e.toLowerCase().split("(")[0].trim()===t.trim().toLowerCase())return"active"})),e.registerHelper("generateTagUrl",(function(e,t){return`${e}&filters=${t}`})),e.registerHelper("checkSuggestion",(function(e){if(!e)return"-active adjust-suggestion-width"})),e.registerHelper("generateDataLayerTag",(function(e,t,i,r){let l=null;if(e&&t&&i){let s=e.split(" ").length>1&&e.split(" ").join("-")||e;return l={[`${t}-${s}`]:{"dc:title":e,"xdm:linkURL":"article"===r?`${i}.html`:i}},JSON.stringify(l)}return""})),e.registerHelper("generateBuyIngredientsDataLayer",(function(e,t,i,r,l){let s=null;if(e&&t&&i){let a=e.split(" ").length>1&&e.split(" ").join("-")||e;return s={[`${t}-${a}`]:{"xdm:linkURL":i,"@type":r,"dc:title":l}},JSON.stringify(s)}return""})),e.registerHelper("generateSimilarButtonCmpDataLayer",(function(e,t,i){let r,l=document.querySelector(".search-results-container")&&document.querySelector(".search-results-container").getAttribute("data-cmp-data-layer"),s={};return l=JSON.parse(l),l&&(r=`${Object.keys(l)[0]}-similar-item-${t}`,s[r]="recipe"===i?{recipeName:e,"@type":"unilever/components/recipes/similar-recipes",recipeId:t}:{productName:e,"@type":"unilever/components/products/similar-products",productID:t}),JSON.stringify(s)})),e.registerHelper("generateHTML",(function(e,t,i){let r="";return r+=/^[a-zA-Z][a-zA-Z0-9]*$/.test(e)?`<${e} class="search-filter-title">${t}</${e}>`:`<h2>${t}</h2>`,r})),e.registerHelper("getArrayItem",(function(e,t){return Array.isArray(e)&&"number"==typeof t?e[t]:null})),e.registerHelper("arrayLength",(function(e){return e?e.length:0})),e.registerHelper("gt",(function(e,t){return e>t}))})()}},s={};function a(e){var t=s[e];if(void 0!==t)return t.exports;var i=s[e]={exports:{}};return l[e].call(i.exports,i,i.exports,a),i.exports}a.m=l,a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,{a:t}),t},t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},a.t=function(i,r){if(1&r&&(i=this(i)),8&r)return i;if("object"==typeof i&&i){if(4&r&&i.__esModule)return i;if(16&r&&"function"==typeof i.then)return i}var l=Object.create(null);a.r(l);var s={};e=e||[null,t({}),t([]),t(t)];for(var n=2&r&&i;"object"==typeof n&&!~e.indexOf(n);n=t(n))Object.getOwnPropertyNames(n).forEach((function(e){s[e]=function(){return i[e]}}));return s.default=function(){return i},a.d(l,s),l},a.d=function(e,t){for(var i in t)a.o(t,i)&&!a.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce((function(t,i){return a.f[i](e,t),t}),[]))},a.u=function(e){return"js/"+e+".js"},a.miniCssF=function(e){},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i={},r="knorr-theme:",a.l=function(e,t,l,s){if(i[e])i[e].push(t);else{var n,c;if(void 0!==l)for(var o=document.getElementsByTagName("script"),d=0;d<o.length;d++){var u=o[d];if(u.getAttribute("src")==e||u.getAttribute("data-webpack")==r+l){n=u;break}}n||(c=!0,(n=document.createElement("script")).charset="utf-8",n.timeout=120,a.nc&&n.setAttribute("nonce",a.nc),n.setAttribute("data-webpack",r+l),n.src=e),i[e]=[t];var p=function(t,r){n.onerror=n.onload=null,clearTimeout(m);var l=i[e];if(delete i[e],n.parentNode&&n.parentNode.removeChild(n),l&&l.forEach((function(e){return e(r)})),t)return t(r)},m=setTimeout(p.bind(null,void 0,{type:"timeout",target:n}),12e4);n.onerror=p.bind(null,n.onerror),n.onload=p.bind(null,n.onload),c&&document.head.appendChild(n)}},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e;a.g.importScripts&&(e=a.g.location+"");var t=a.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var i=t.getElementsByTagName("script");if(i.length)for(var r=i.length-1;r>-1&&(!e||!/^http(s?):/.test(e));)e=i[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),a.p=e+"../"}(),function(){var e={7614:0};a.f.j=function(t,i){var r=a.o(e,t)?e[t]:void 0;if(0!==r)if(r)i.push(r[2]);else{var l=new Promise((function(i,l){r=e[t]=[i,l]}));i.push(r[2]=l);var s=a.p+a.u(t),n=new Error;a.l(s,(function(i){if(a.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var l=i&&("load"===i.type?"missing":i.type),s=i&&i.target&&i.target.src;n.message="Loading chunk "+t+" failed.\n("+l+": "+s+")",n.name="ChunkLoadError",n.type=l,n.request=s,r[1](n)}}),"chunk-"+t,t)}};var t=function(t,i){var r,l,s=i[0],n=i[1],c=i[2],o=0;if(s.some((function(t){return 0!==e[t]}))){for(r in n)a.o(n,r)&&(a.m[r]=n[r]);if(c)c(a)}for(t&&t(i);o<s.length;o++)l=s[o],a.o(e,l)&&e[l]&&e[l][0](),e[l]=0},i=self.webpackChunkknorr_theme=self.webpackChunkknorr_theme||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}(),function(){"use strict";var e=a(7150);a(189);!async function(t){const{selectors:i,elemConfig:r}=await a.e(3472).then(a.bind(a,3472));class l{constructor(e){this._element=e.element,this._index=e.index,this._recipeConfigs={},this._tnsIndex=0,this._initialLoad=0,this._saveIndex=0,this._isLoading=!1,this.queryString="",this.filtersObject={},this.selectedFiltersObj={},this.preDefinedAllList={},this.filterListValues=[],this.onFirstLoad=!0,this.applyFiltersEnabled=null,this._recipeListID=null,this.filterObjBackup={},this.currentIndex=0,this.defaultSoryByStr=null,this._init()}_init(){let r,l,s;this.defaultSoryByStr=this._getDefaulSoryBytStr(),(0,e.qs)(i.container,this._element)&&(0,e.qs)(i.container,this._element).classList.contains("cmp-grid-layout")&&(this._element&&this._element.classList.contains("filtered-based-layout")||0!=(0,e.YJ)(".relatedRecipes",this._element).length||0!=(0,e.YJ)(".groupBasedList",this._element).length||0!=(0,e.YJ)(".productBasedRelatedRecipes",this._element).length||this._loadMore());let a=Number((0,e.qs)(i.slider_item,this._element)&&(0,e.qs)(i.slider_item,this._element).getAttribute("data-items-loading")),n=(0,e.qs)(i.slider_item,this._element)&&(0,e.qs)(i.slider_item,this._element).getAttribute("data-user-max-results");if((0,e.qs)(i.loadMoreBtn,this._element)&&n&&a>=n&&(0,e.qs)(i.loadMoreBtn,this._element).classList.add("hide"),(0,e.YJ)(".relatedRecipes",this._element).length>0&&(r="relatedRecipes",s=window.location.pathname,l=(s.match(/([0-9]){6,6}/g)||[!1])[0],this._bindNextBtnEvent(r,l),this._element.children[0].classList.contains("cmp-grid-layout"))){let t=Number((0,e.qs)(i.slider_item,this._element).getAttribute("data-items-loading"));this._groupItemsLoadingOnLoad(t),this._loadMoreCarouselGrid()}if((0,e.YJ)(".groupBasedList",this._element).length>0&&(r="groupBasedList",s=window.location.pathname,l=(s.match(/([0-9]){6,6}/g)||[!1])[0],this._bindNextBtnEvent(r,l),this._element.children[0].classList.contains("cmp-grid-layout"))){let t=Number((0,e.qs)(i.slider_item,this._element).getAttribute("data-items-loading"));this._groupItemsLoadingOnLoad(t),this._loadMoreGroupGrid()}if((0,e.YJ)(".productBasedRelatedRecipes",this._element).length>0&&(r="productBasedRelatedRecipes",s=window.location.pathname,l=(s.match(/([0-9]){6,6}/g)||[!1])[0],this._bindNextBtnEvent(r,l),this._element.children[0].classList.contains("cmp-grid-layout"))){let t=Number((0,e.qs)(i.slider_item,this._element).getAttribute("data-items-loading"));this._groupItemsLoadingOnLoad(t),this._loadMoreProductGrid()}if(t.addEventListener("keydown",(e=>{if("Escape"===e.key||"Esc"===e.key){const e=t.querySelector(".kr-of-hide .kr-backButton.closeButton");e&&e.click()}})),this._element&&this._element.classList.contains("filtered-based-layout")){let r=(0,e.qs)(".filteredList",this._element),l=t.querySelector(i.wrapper,this._element);this.applyFiltersEnabled=r&&"true"==r.getAttribute("data-enable-apply-filters");let s=l&&l.getAttribute("data-cmp-data-layer");s=JSON.parse(s),this._recipeListID=s&&Object.keys(s)[0],(0,e.YJ)(i.filterDropdownSection,this._element).length>0?this._showHideFilter():(this._filterAccordian(),this._filterItemsHide(),this._showMoreClick(),this._showLessClick(),this._clearAllClick(),this._selectAllClick()),this.applyFiltersEnabled&&(this._clickApplyFilters(),this.filterObjBackup={}),this._element.querySelector(".cmp-sorting-filter select")&&this._element.querySelector(".cmp-sorting-filter select").length>0&&this.applySorting(),setTimeout((()=>{this._filterEvent(),this._loadMoreFilteredGrid(),this._removeFilterValue(),this._analyticsClickFilterHandling(),this.pageLoadAfterSort()}),200)}this._cardElementClickingHandler();let c=this._element.querySelector(".cmp-recipe-listing-items-container")&&this._element.querySelector(".cmp-recipe-listing-items-container").getAttribute("data-ratings-show");if(c&&"true"==c){new(window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver)((()=>{this.initReviewRatingTabOrder(this._element)})).observe(this._element,{subtree:!0,childList:!0,characterData:!0})}this.findSimilarRecipes(this._element)}initReviewRatingTabOrder(e){const t=e.querySelectorAll(".cmp-recipe-listing-item"),r=e.querySelectorAll(".tns-item");t&&0==r.length&&t.forEach((e=>{const t=e.querySelector(i.ratingSelector);t&&t.setAttribute("tabindex","-1"),t&&t.setAttribute("tabindex","-1")}))}_cardElementClickingHandler(){(0,e.qs)(i.slider_item,this._element)&&(0,e.qs)(i.slider_item,this._element).getAttribute("data-card-link-enabled")&&"true"==(0,e.qs)(i.slider_item,this._element).getAttribute("data-card-link-enabled").toLowerCase()?this._entireCardClickable():this._clickImageAndButton()}_clickImageAndButton(){const t=(0,e.YJ)(".cmp-recipe-image-wrapper",this._element),i=(0,e.YJ)(".cta_btn button",this._element);t&&t.length&&t.forEach((e=>{e.addEventListener("click",(e=>{let t=e.currentTarget.getAttribute("data-href");t&&(window.location.href=t)}))})),i&&i.length&&i.forEach((e=>{e.addEventListener("click",(e=>{let t=e.currentTarget.getAttribute("data-href");t&&(window.location.href=t)}))}))}_entireCardClickable(){const t=(0,e.YJ)(".cmp-recipe-listing-item",this._element);t&&t.length&&t.forEach((e=>{e.addEventListener("click",(()=>{let t=e.querySelector(".cmp-recipe-listing-title .cmp-recipe-listing-link").getAttribute("href");e.closest(".cmp-recipe-listing-wrapper").hasAttribute("data-find-similar-recipes-enabled")?this._clickImageAndButton():t&&(window.location.href=t)}))}))}_loadMoreFilteredGrid(){let t=this;(0,e.YJ)(`${i.loadMoreBtn} button`,this._element).length>0&&(0,e.qs)(`${i.loadMoreBtn} button`,this._element).addEventListener("click",(async r=>{r.stopImmediatePropagation();let l=Number((0,e.qs)(i.slider_item,this._element)&&(0,e.qs)(i.slider_item,this._element).getAttribute("data-items-loading")),s=Number((0,e.qs)(i.slider_item,this._element)&&(0,e.qs)(i.slider_item,this._element).getAttribute("data-total-results")),a=(0,e.qs)(i.slider_item,this._element)&&(0,e.qs)(i.slider_item,this._element).getAttribute("data-user-max-results");a=null!=a?Number(a):s;let n=s>=a?a:s;if(this._saveIndex<n){this._saveIndex+=l;let s=this._saveIndex;l=this._saveIndex+l>n?n-this._saveIndex:l;let a=null;if(this.onFirstLoad){if(this.preDefinedAllList={},(0,e.qs)(i.slider_item,this._element)){var c=(0,e.qs)(i.slider_item,this._element).getAttribute("data-recipe-group-filter");c.trim().length>0&&(c=JSON.parse(c),Object.keys(c).forEach((e=>{this.filtersObject[e]=c[e],this.preDefinedAllList[e]=c[e]})))}let t=(0,e.qs)(".cmp-sorting-filter > select",this._element);t&&t.value&&"string"==typeof t.value&&(this.preDefinedAllList.sortBy=t.value.trim()),a=new URLSearchParams(this.preDefinedAllList).toString()}else this.applyFiltersEnabled?(a=new URLSearchParams(this.filterObjBackup).toString(),this._populateHiglightedFilters()):a=new URLSearchParams(this.filtersObject).toString();this.queryString=a,await t._filtercallLists(s,l,!0),s+l>=n&&(0,e.qs)(i.loadMoreBtn,this._element).classList.add("hide"),setTimeout((()=>{if("mouse"!==r.pointerType){let i=(0,e.YJ)(".cmp-recipe-listing-item",t._element),r=i.length;i[r-l]&&i[r-l].querySelector(".cmp-recipe-listing-title a")&&(i[r-l].querySelector(".cmp-recipe-listing-title a").focus(),i[r-l].scrollIntoView({behavior:"smooth",block:"center"}))}}),300),delete this.preDefinedAllList.sortBy}else(0,e.qs)(i.loadMoreBtn,this._element).classList.add("hide")}))}_loadMoreCarouselGrid(){let t=this;(0,e.YJ)(`${i.loadMoreBtn} button`,t._element).length>0&&(0,e.qs)(`${i.loadMoreBtn} button`,t._element).addEventListener("click",(async r=>{let l=Number((0,e.qs)(i.slider_item,t._element).getAttribute("data-items-loading")),s=Number((0,e.qs)(i.slider_item,t._element).getAttribute("data-total-results")),a=(0,e.qs)(i.slider_item,t._element).getAttribute("data-user-max-results");a=null!=a?Number(a):s;let n=s>=a?a:s;if(t._saveIndex<n){t._saveIndex+=l;let s=t._saveIndex;l=this._saveIndex+l>n?n-this._saveIndex:l,await t._relatedBasedCallLists(s,l,!0),s+l>=n&&(0,e.qs)(i.loadMoreBtn,t._element).classList.add("hide"),setTimeout((()=>{if("mouse"!==r.pointerType){let i=(0,e.YJ)(".cmp-recipe-listing-item",t._element),r=i.length;i[r-l]&&i[r-l].querySelector(".cmp-recipe-listing-title a")&&(i[r-l].querySelector(".cmp-recipe-listing-title a").focus(),i[r-l].scrollIntoView({behavior:"smooth",block:"center"}))}}),300)}else(0,e.qs)(i.loadMoreBtn,t._element).classList.add("hide")}))}_loadMoreGroupGrid(){let t=this;(0,e.YJ)(`${i.loadMoreBtn} button`,this._element).length>0&&(0,e.qs)(`${i.loadMoreBtn} button`,this._element).addEventListener("click",(async r=>{let l=Number((0,e.qs)(i.slider_item,this._element).getAttribute("data-items-loading")),s=Number((0,e.qs)(i.slider_item,this._element).getAttribute("data-total-results")),a=(0,e.qs)(i.slider_item,this._element).getAttribute("data-user-max-results");a=null!=a?Number(a):s;let n=s>=a?a:s;if(this._saveIndex<n){this._saveIndex+=l;let r=this._saveIndex;l=this._saveIndex+l>n?n-this._saveIndex:l,await t._groupBasedCallLists(r,l,!0),r+l>=n&&(0,e.qs)(i.loadMoreBtn,this._element).classList.add("hide")}else(0,e.qs)(i.loadMoreBtn,this._element).classList.add("hide");setTimeout((()=>{if("mouse"!==r.pointerType){let i=(0,e.YJ)(".cmp-recipe-listing-item",t._element),r=i.length;i[r-l]&&i[r-l].querySelector(".cmp-recipe-listing-title a")&&(i[r-l].querySelector(".cmp-recipe-listing-title a").focus(),i[r-l].scrollIntoView({behavior:"smooth",block:"center"}))}}),300)}))}_loadMoreProductGrid(){let t=this;(0,e.YJ)(`${i.loadMoreBtn} button`,this._element).length>0&&(0,e.qs)(`${i.loadMoreBtn} button`,this._element).addEventListener("click",(async r=>{let l=Number((0,e.qs)(i.slider_item,this._element).getAttribute("data-items-loading")),s=Number((0,e.qs)(i.slider_item,this._element).getAttribute("data-total-results")),a=(0,e.qs)(i.slider_item,this._element).getAttribute("data-user-max-results");a=null!=a?Number(a):s;let n=s>=a?a:s;if(this._saveIndex<n){this._saveIndex+=l;let r=this._saveIndex;l=this._saveIndex+l>n?n-this._saveIndex:l,await t._productBasedCallLists(r,l,!0),r+l>=n&&(0,e.qs)(i.loadMoreBtn,this._element).classList.add("hide")}else(0,e.qs)(i.loadMoreBtn,this._element).classList.add("hide");setTimeout((()=>{if("mouse"!==r.pointerType){let i=(0,e.YJ)(".cmp-recipe-listing-item",t._element),r=i.length;i[r-l]&&i[r-l].querySelector(".cmp-recipe-listing-title a")&&(i[r-l].querySelector(".cmp-recipe-listing-title a").focus(),i[r-l].scrollIntoView({behavior:"smooth",block:"center"}))}}),300)}))}_handlingMaxCount(t){(0,e.qs)(i.slider_item,this._element).setAttribute("data-total-results",t),this._saveIndex=0}_bindNextBtnEvent(t,r){let l,s=this;l=(0,e.qs)(i.slider_item,s._element).getAttribute("data-recipe-id")?(0,e.qs)(i.slider_item,s._element).getAttribute("data-recipe-id"):r;let a=Number((0,e.qs)(i.slider_item,s._element).getAttribute("data-total-results"));var n=null;let c=a<=(n=null!=(0,e.qs)(i.slider_item,s._element).getAttribute("data-user-max-results")?Number((0,e.qs)(i.slider_item,s._element).getAttribute("data-user-max-results")):a)?a:n,o=Number((0,e.qs)(i.slider_item,s._element).getAttribute("data-items-loading"));(0,e.qs)(i.carousel_container,s._element)&&i.slider[this._index]&&c&&o&&c>o&&(this._initialLoad=7*Number(o),this._initialLoad>=c&&(this._initialLoad=c),this._saveIndex=o,s._callLists(l,this._initialLoad,o,0,t),c>this._initialLoad&&(this._recipeConfigs.recipeID=l,this._recipeConfigs.perLoad=this._initialLoad,this._recipeConfigs.size=o,this._recipeConfigs.total_results=c,this._recipeConfigs.type=t,i.slider[this._index].events.on("indexChanged",(()=>{this._handleTnsNextEvt(s)}))))}_handleTnsNextEvt(e){const{recipeID:t,perLoad:i,size:r,total_results:l,type:s}=e._recipeConfigs;e._commonNextFunctionality(t,i,l,e,s,r)}_commonNextFunctionality(t,i,r,l,s,a){let n=(0,e.YJ)(".tns-slide-active",l._element).length-1,c=Number((0,e.YJ)(".tns-slide-active",l._element)[n].getAttribute("id").split("item")[1]);if((0,e.YJ)(".tns-item",l._element).length-c<2*a&&!this._isLoading){let e=this._saveIndex+i;if(this._saveIndex=e,e<r){this._isLoading=!0;const a=e+i>r?r-e:i;l._callLists(t,a,e,c,s)}}}_filterEvent(){let t=this,r=(0,e.qs)(i.slider_item,t._element),l=Number(r&&r.getAttribute("data-items-loading"));if((0,e.qs)(i.slider_item,t._element)){var s=(0,e.qs)(i.slider_item,t._element).getAttribute("data-recipe-group-filter");s.trim().length>0&&(s=JSON.parse(s),Object.keys(s).forEach((e=>{t.filtersObject[e]=s[e],t.preDefinedAllList[e]=s[e]})))}if((0,e.YJ)(i.filterDropdownSection,t._element).length>0){(0,e.YJ)(".cmp-dropdown-filter-section .cmp-filter-group select",t._element).forEach((e=>{let i=e.parentElement.getAttribute("data-item-group"),r=e.previousElementSibling.innerText;e.querySelectorAll("option").forEach((e=>{null!=e.getAttribute("data-option")?(e.selected=!0,t.filterListValues.push(`${r}:${e.value}`)):null==t.preDefinedAllList[i]?t.preDefinedAllList[i]=e.value:t.preDefinedAllList[i]=t.preDefinedAllList[i]+","+e.value})),e&&e.addEventListener("change",(()=>{t.onFirstLoad=!1;let i=e.parentElement.getAttribute("data-item-group"),r=e.previousElementSibling.innerText;var l=t.filterListValues.indexOf(`${r}:${t.filtersObject[i]}`);-1==l&&(l=t.filterListValues.indexOf(`${r}:${e.children[0].value}`)),t.filterListValues.splice(l,1),t.filterListValues.push(`${r}:${e.value}`),null!=e.options[e.selectedIndex].getAttribute("data-option")?t.filtersObject[i]="":t.filtersObject[i]=e.value,t._updateDataLayer(t.filterListValues,"add"),window.adobeDataLayer.push({event:"cmp:click",eventInfo:{path:"component."+t._recipeListID}});const s=new URLSearchParams(t.filtersObject).toString();t.queryString=s,t.applyFiltersEnabled?(t._updateFilterSectionObj(),t._updateFilterSection(t.selectedFiltersObj),t._removeFilterValue()):t._virtualApplyFilters()}))}))}else{(0,e.YJ)(".cmp-filter-section input",t._element).forEach((e=>{let i=e.parentElement.parentElement.parentElement.getAttribute("data-item-group"),r=e.parentElement.parentElement.parentElement.children[0].children[0].innerText.trim();"radio"==e.getAttribute("type")?null!=e.getAttribute("data-option")?(e.checked=!0,t.filterListValues.push(`${r}:${e.value}`)):t.preDefinedAllList[i]?t.preDefinedAllList[i]=t.preDefinedAllList[i]+","+e.value:t.preDefinedAllList[i]=e.value:(t.onFirstLoad&&(e.checked=!1,t.preDefinedAllList[i]?t.preDefinedAllList[i]=t.preDefinedAllList[i]+","+e.value:t.preDefinedAllList[i]=e.value),t.filtersObject[i]=""),e&&e.addEventListener("change",(()=>{if(t.onFirstLoad=!1,t.selecetedFilterGroup=e.parentElement.parentElement.parentElement.getAttribute("data-item-group"),t.filterHeadingText=e.parentElement.parentElement.parentElement.children[0].children[0].innerText.trim(),"checkbox"==e.getAttribute("type"))if(e.checked){if(""==t.filtersObject[i])t.filtersObject[i]=e.value;else{-1==t.filtersObject[i].split(",").indexOf(e.value)&&(t.filtersObject[i]=t.filtersObject[i]+","+e.value)}t.filterListValues.push(`${r}:${e.value}`)}else{if(null!=t.filtersObject[i]){let r=t.filtersObject[i].split(","),l=r.indexOf(e.value);-1!=l&&(r.splice(l,1),t.filtersObject[i]=r.join(","))}let l=t.filterListValues.indexOf(`${r}:${e.value}`);l>-1&&t.filterListValues.splice(l,1)}else if(e.checked){var l=t.filterListValues.indexOf(`${r}:${t.filtersObject[i]}`);-1==l&&(l=t.filterListValues.indexOf(`${r}:${e.parentElement.parentElement.children[0].firstChild.value}`)),t.filterListValues.splice(l,1),t.filterListValues.push(`${r}:${e.value}`),null!=e.getAttribute("data-option")?t.filtersObject[i]="":t.filtersObject[i]=e.value}t._updateDataLayer(t.filterListValues,"add"),window.adobeDataLayer.push({event:"cmp:click",eventInfo:{path:"component."+t._recipeListID}});const s=new URLSearchParams(this.filtersObject).toString();t.queryString=s,this.applyFiltersEnabled?(t._updateFilterSectionObj(),t._updateFilterSection(t.selectedFiltersObj),t._removeFilterValue()):t._virtualApplyFilters()}))}))}let a=(0,e.qs)(".cmp-sorting-filter > select",t._element);if(a){const e=a.querySelectorAll("option");e&&e.length&&(e[0].selected=!0),a.addEventListener("change",(()=>{t.filtersObject.sortBy=a.value.trim();var e=null;t.onFirstLoad?(t.preDefinedAllList.sortBy=a.value,e=new URLSearchParams(t.filtersObject).toString()):t.applyFiltersEnabled?(t.preDefinedAllList.sortBy=a.value.trim(),t.filterObjBackup.sortBy=a.value.trim(),e=new URLSearchParams(t.filterObjBackup).toString(),t._populateHiglightedFilters(),t.filtersObject={...t.filterObjBackup}):(t.preDefinedAllList.sortBy=a.value.trim(),e=new URLSearchParams(t.filtersObject).toString()),t.queryString=e,t._filtercallLists(0,l,!1),delete t.preDefinedAllList.sortBy}))}t._updateFilterSection(t.selectedFiltersObj);const n=new URLSearchParams(t.filtersObject).toString();t.queryString=n,t.applyFiltersEnabled&&(t.filterObjBackup={...t.filtersObject})}_getSelectedFiltersTitle(t){let r=null;const l=(0,e.qs)(`${i.filterWrapper} .cmp-filter-group[data-item-group="${t}"] input`,this._element),s=(0,e.qs)(`${i.filterDropdownSection} .cmp-filter-group[data-item-group="${t}"] select`,this._element);return l?r=(0,e.qs)(`${i.filterWrapper} .cmp-filter-group[data-item-group="${t}"] .cmp-filter-main-heading button`,this._element).innerText.trim():s&&(r=(0,e.qs)(`${i.filterDropdownSection} .cmp-filter-group[data-item-group="${t}"] label`,this._element).innerText.trim()),r}_populateHiglightedFilters(){const t=this;let i={...this.filterObjBackup};Object.keys(this.filtersObject).forEach((e=>{i[e]||(i[e]="")})),t.selectedFiltersObj={},Object.keys(i).forEach(((r,l)=>{let s=`.cmp-filter-group[data-item-group=${r}]`;if((0,e.qs)(`${s}`,t._element)){let l=(0,e.qs)(`${s} input`,t._element);if(l)"radio"==l.type?0===i[r].length?l.checked=!0:(0,e.qs)(`${s} input[value="${i[r]}"]`,t._element).checked=!0:"checkbox"==l.type&&(t.filtersObject[r].length>0&&t.filtersObject[r].split(",").forEach(((i,r)=>{(0,e.qs)(`${s} input[value="${i}"]`,t._element).checked=!1})),i[r].length>0&&i[r].split(",").forEach(((i,r)=>{(0,e.qs)(`${s} input[value="${i}"]`,t._element).checked=!0})));else{let l=`${s} select`;0===i[r].length?(0,e.qs)(`${l} option`,t._element).selected=!0:(0,e.qs)(`${l} option[value="${i[r]}"]`,t._element).selected=!0}if(i[r].length){const e=t._getSelectedFiltersTitle(r);e&&(t.selectedFiltersObj[e]=i[r])}}})),this._updateFilterSection(this.selectedFiltersObj),this._removeFilterValue()}_virtualApplyFilters(){const t=(0,e.qs)(i.filterDropdownSection,this._element),r=Number((0,e.qs)(i.slider_item,this._element).getAttribute("data-items-loading"));this._updateFilterSectionObj(),this._updateFilterSection(this.selectedFiltersObj),this._filtercallLists(0,r,!1),this._removeFilterValue(),t||this._element.scrollIntoView({behavior:"smooth",block:"start"})}_updateFilterSection(t){let i=(0,e.qs)(".selected_filters_container",this._element);i&&(i.innerHTML="");let r=!1,l="",s=0;if(Object.keys(t).length>0){var a="";Object.keys(t).forEach((i=>{let n="";if(t[i].length>0){if(t[i].split(",").forEach((t=>{if(""!=t.trim()){let l=(0,e.qs)(".selected_filters_container",this._element).getAttribute("data-arialabel-grouping")?(0,e.qs)(".selected_filters_container",this._element).getAttribute("data-arialabel-grouping").replace(/ +/g,""):"",s=(0,e.qs)(".selected_filters_container",this._element).getAttribute("data-arialabel-enter")?(0,e.qs)(".selected_filters_container",this._element).getAttribute("data-arialabel-enter").replace(/ +/g,""):"";const c=(i?i.replace(/ +/g,""):"")+l+t+s;a=`<span class="filter_name">${i}</span>`,n+=`<button class="filter_remove" aria-label=${c}>${t}</button>`,r=!1}else""==a&&(r=!0),a=""})),""!=a){l+=`<div class="filter_wrapper" data-filter="${i}">${a}${n}</div>`}}else s++})),(0,e.qs)(".selected_filters_container",this._element).innerHTML=l,r||s===Object.keys(t).length?(0,e.qs)(".selected_filters_container",this._element).classList.add("hide"):(0,e.qs)(".selected_filters_container",this._element).classList.remove("hide")}else i&&i.classList.add("hide")}async _removeFilterValue(){let t=this;const r=(0,e.qs)(i.slider_item,this._element);let l=Number(r&&r.getAttribute("data-items-loading"));const s=this._element&&this._element.querySelectorAll(".filter_remove");s&&s.length&&s.forEach((i=>{i.addEventListener("click",(i=>{let r=i.currentTarget.parentElement.getAttribute("data-filter"),s=t.selectedFiltersObj[r].split(","),a=s.indexOf(i.currentTarget.innerText),n=t.filterListValues.indexOf(`${r}:${i.currentTarget.innerText}`);if(t.filterListValues.splice(n,1),s.splice(a,1),0==s.length?(delete t.selectedFiltersObj[r],(0,e.qs)(`.filter_wrapper[data-filter="${r}"]`,t._element).remove()):t.selectedFiltersObj[r]=s.join(","),(0,e.YJ)(".cmp-filter-group",t._element).forEach(((e,l)=>{let s="";if(s=e.parentElement.classList.contains("cmp-dropdown-filter-section")?e.querySelector("label").innerText.trim():e.querySelector(".cmp-filter-main-heading button").innerText.trim(),s==r){let l=t.filtersObject[e.getAttribute("data-item-group")].split(","),s=l.indexOf(i.currentTarget.innerText);if(l.splice(s,1),0==l.length?t.filtersObject[e.getAttribute("data-item-group")]="":t.filtersObject[e.getAttribute("data-item-group")]=l.join(","),e.parentElement.classList.contains("cmp-dropdown-filter-section"))e.querySelector(`select option[value="${i.currentTarget.innerText}"]`).selected=!1,e.querySelector("select option").selected=!0,t.filtersObject[e.getAttribute("data-item-group")]="",t.filterListValues.push(`${r}:${e.querySelector("select option").value}`);else{const l=i.currentTarget.innerText?i.currentTarget.innerText.toLowerCase():"",s=e.querySelector(`input[value="${l}"]`);s&&(s.checked=!1,"radio"==s.type&&(e.querySelector("input").checked=!0,t.filtersObject[e.getAttribute("data-item-group")]="",t.filterListValues.push(`${r}:${e.querySelector("input").value}`)))}}})),i.currentTarget.remove(),Object.keys(t.selectedFiltersObj).length>0)for(let i=0;i<Object.keys(t.selectedFiltersObj).length;i++){if(""!=t.selectedFiltersObj[Object.keys(t.selectedFiltersObj)[i]]){(0,e.qs)(".selected_filters_container",t._element).classList.remove("hide");break}(0,e.qs)(".selected_filters_container",t._element).classList.add("hide")}else(0,e.qs)(".selected_filters_container",t._element).classList.add("hide");t._updateDataLayer(t.filterListValues,"add"),window.adobeDataLayer.push({event:"cmp:click",eventInfo:{path:"component."+t._recipeListID}});const c=new URLSearchParams(t.filtersObject).toString();t.queryString=c,t.applyFiltersEnabled?t.filterObjBackup={...t.filtersObject}:t._filtercallLists(0,l,!1)}))}))}applySorting(){let e=this;const t=e._element.querySelector("#sorting-select");t&&t.addEventListener("change",(i=>{const r=i.target.value;r!==(t.options[0].value||"")?e.updateURLParameter("sortBy",r):e.removeURLParameter("sortBy")}))}updateURLParameter(e,t){const i=new URL(window.location.href);i.searchParams.set(e,t),window.history.replaceState(null,"",i.toString())}removeURLParameter(e){const t=new URL(window.location.href);t.searchParams.delete(e),window.history.replaceState(null,"",t.toString())}pageLoadAfterSort(){const e=new URLSearchParams(window.location.search).get("sortBy");if(e){const i=t.querySelector("#sorting-select");i&&(i.value=e)}}_clickApplyFilters(){let t=this;const i=(0,e.qs)(".apply-filters-btn",this._element);i&&i.addEventListener("click",(e=>{t.onFirstLoad=!1,t.filterObjBackup={...t.filtersObject};const i=new URLSearchParams(t.filtersObject).toString();t.queryString=i,t._saveIndex=0,t._virtualApplyFilters()}))}_updateFilterSectionObj(){this.selectedFiltersObj={},Object.keys(this.filtersObject).forEach(((t,i)=>{let r=(0,e.qs)(`.cmp-filter-section .cmp-filter-group[data-item-group="${t}"] input`,this._element);if(r){let i=(0,e.qs)(`.cmp-filter-section .cmp-filter-group[data-item-group="${t}"] .cmp-filter-main-heading button`,this._element).innerText.trim();"checkbox"==r.type?this.selectedFiltersObj[i]=this.filtersObject[t]:"radio"==r.type&&(r.checked||(this.selectedFiltersObj[i]=this.filtersObject[t]))}else{let i=(0,e.qs)(`.cmp-dropdown-filter-section .cmp-filter-group[data-item-group="${t}"] select`,this._element);if(i){let r=(0,e.qs)(`.cmp-dropdown-filter-section .cmp-filter-group[data-item-group="${t}"] label`,this._element).innerText.trim();i.querySelector("option").selected||(this.selectedFiltersObj[r]=this.filtersObject[t])}}}))}_analyticsClickFilterHandling(){let e=this;t.addEventListener("click",(t=>{t.target.parentElement&&!t.target.parentElement.classList.contains("cmp-filter-item")&&(e._updateDataLayer(),window.adobeDataLayer.push({event:"cmp:click",eventInfo:{path:"component."+this._recipeListID}}))}))}_updateDataLayer(e,t){if(void 0!==window.adobeDataLayer&&window.adobeDataLayer&&"function"==typeof window.adobeDataLayer.getState&&window.adobeDataLayer.getState().component){let i=window.adobeDataLayer.getState().component;if(i&&i[this._recipeListID])if("add"==t){let t=e.join("|");i[this._recipeListID].filterClicked=t,window.adobeDataLayer.push({component:i})}else null!=i[this._recipeListID].filterClicked&&(i[this._recipeListID].filterClicked=null,window.adobeDataLayer.push({component:i}))}}_getDefaulSoryBytStr(){if(!(0,e.qs)(".cmp-sorting-filter > select",this._element)){let t=(0,e.qs)(i.container,this._element).parentElement.getAttribute("data-sortby");return t?`&sortBy=${t}`:""}return""}async _callLists(t,r,l,s,a){try{let n;if("relatedRecipes"==a){n=(0,e.qs)(i.slider_item,this._element).getAttribute("data-recipe-url-template").split(".")[0];let c=`${window.location.origin}${n}.recipeListing.json?recipeId=${t}&query=similar&from=${l}&size=${r}${this.defaultSoryByStr}`;const o=await fetch(c,{cache:"no-cache"}),d=await o.json();null!=d&&d.relatedRecipes&&d.relatedRecipes.length>0&&await this._initHandleBars(d,s,a,!0)}else if("productBasedRelatedRecipes"==a){n=(0,e.qs)(i.slider_item,this._element).getAttribute("data-recipe-template-path").split(".")[0];let t=(0,e.qs)(".cmp-recipe-listing-items-container.productBasedRelatedRecipes",this._element).getAttribute("data-product-sku"),c=`${window.location.origin}${n}.recipeListing.json?query=search&qtype=${t}&from=${l}&size=${r}${this.defaultSoryByStr}`;const o=await fetch(c,{cache:"no-cache"}),d=await o.json();null!=d&&d.recipeSearch&&JSON.parse(d.recipeSearch).length>0&&await this._initHandleBars(d,s,a,!0)}else{n=(0,e.qs)(i.slider_item,this._element).getAttribute("data-recipe-template-path").split(".")[0];let t=(0,e.qs)(".cmp-recipe-listing-items-container.groupBasedList",this._element).getAttribute("data-recipe-group-filter");const c=new URLSearchParams(JSON.parse(t)).toString();let o=`${window.location.origin}${n}.recipeListing.json?query=bygroup&${c}&from=${l}&size=${r}${this.defaultSoryByStr}`;const d=await fetch(o,{cache:"no-cache"}),u=await d.json();null!=u&&u.recipeByGroups&&u.recipeByGroups.length>0&&await this._initHandleBars(u,s,a,!0)}}catch(e){this._isLoading=!1}}async _dietaryAttributesCall(t,r){try{let l,s=[];"productBasedRelatedRecipes"==r?t.forEach((e=>{let t={};e.id&&(t.recipeId=e.id),e.dietaryClaim&&e.dietaryClaim.include&&(t.dietaryClaim=e.dietaryClaim.include),2===Object.keys(t).length&&s.push(t)})):t.forEach((e=>{let t={};e.recipeData.recipeID&&(t.recipeId=e.recipeData.recipeID),e.recipeData.dietaryClaim&&e.recipeData.dietaryClaim.include&&(t.dietaryClaim=e.recipeData.dietaryClaim.include),2===Object.keys(t).length&&s.push(t)})),s=Array.prototype.map.call(s,(function(e){return JSON.stringify(e)})).join(","),l="relatedRecipes"==r?(0,e.qs)(i.slider_item,this._element).getAttribute("data-recipe-url-template").split(".")[0]:(0,e.qs)(i.slider_item,this._element).getAttribute("data-recipe-template-path").split(".")[0];let a='{ "recipeDietaryAttributes": { "recipes": ['+s+"] } }",n=`${window.location.origin}${l}.recipeListing.json?query=dietaryattributes&qtype=${a}${this.defaultSoryByStr}`;const c=await fetch(n,{cache:"no-cache",method:"POST"}),o=await c.json();return null!=o&&o.recipeDietaryAttributesResult.recipes.length>0?o.recipeDietaryAttributesResult.recipes:""}catch(e){return null}}async _filtercallLists(t,r,l){const s=(await a.e(7936).then(a.bind(a,7936))).default,n="filterList",c=(0,e.qs)(i.slider_item,this._element).getAttribute("data-recipe-template-path").split(".")[0];let o=`${window.location.origin}${c}.recipeListing.json?query=bygroup&from=${t}&size=${r}&${this.queryString}${this.defaultSoryByStr}`;const d=this._element.querySelector(".filteredList"),u=(0,e.qs)(i.loadMoreBtn,this._element),p=(0,e.qs)(".noresultsTemplate_hidden",this._element);var m=await s(o).then((e=>JSON.parse(e))).catch((e=>({response:{},totalCount:0})));if(null!=m&&m.recipeByGroups&&m.recipeByGroups.length>0&&m.totalCount>0)l||(d&&(d.innerHTML=""),this._handlingMaxCount(m.totalCount),u&&u.classList.remove("hide")),u&&u.classList.add("hide"),await this._initHandleBars(m,null,n),u&&(d&&d.children.length>=Number(d.getAttribute("data-total-results"))||d&&d.getAttribute("data-user-max-results")&&d.children.length>=Number(d.getAttribute("data-user-max-results"))?u.classList.add("hide"):u.classList.remove("hide")),p&&(p.style.display="none");else{d&&d.children.length>0&&(d.innerHTML="",p&&(p.style.display="block"));{const t=(0,e.qs)(".total_results",this._element)&&(0,e.qs)(".total_results",this._element).getAttribute("data-results-text");(0,e.qs)(".total_results .result_count",this._element).innerText="0 "+(t||"")}u&&u.classList.add("hide")}this._cardElementClickingHandler()}async _groupBasedCallLists(t,r,l){let s=(0,e.qs)(i.slider_item,this._element).getAttribute("data-recipe-template-path").split(".")[0],a=(0,e.qs)(".cmp-recipe-listing-items-container.groupBasedList",this._element).getAttribute("data-recipe-group-filter");const n=new URLSearchParams(JSON.parse(a)).toString(),c=n?`&${n}`:"";let o=`${window.location.origin}${s}.recipeListing.json?query=bygroup${c}&from=${t}&size=${r}${this.defaultSoryByStr}`;const d=await fetch(o,{cache:"no-cache"}),u=await d.json(),p=this._element.querySelector(".groupBasedList"),m=(0,e.qs)(i.loadMoreBtn,this._element),h=(0,e.qs)(".noresultsTemplate_hidden",this._element);null!=u&&u.recipeByGroups&&u.recipeByGroups.length>0&&u.totalCount>0?(l||(p&&(p.innerHTML=""),this._handlingMaxCount(u.totalCount),m&&m.classList.remove("hide")),await this._initHandleBars(u,null,"groupBasedList"),m&&(p&&p.children.length>=p.getAttribute("data-total-results")?m.classList.add("hide"):p&&null!=p.getAttribute("data-user-max-results")?p.children.length>=p.getAttribute("data-user-max-results")&&m.classList.add("hide"):m.classList.remove("hide")),h&&(h.style.display="none")):(p&&p.children.length>0&&(p.innerHTML="",h&&(h.style.display="block")),m&&m.classList.add("hide")),this._cardElementClickingHandler()}async _productBasedCallLists(t,r,l){let s=(0,e.qs)(i.slider_item,this._element).getAttribute("data-recipe-template-path"),a=s&&s.split(".")[0],n=(0,e.qs)(".cmp-recipe-listing-items-container.productBasedRelatedRecipes",this._element).getAttribute("data-product-sku");if(!n&&!a)return;let c=`${window.location.origin}${a}.recipeListing.json?query=search&qtype=${n}&from=${t}&size=${r}${this.defaultSoryByStr}`;const o=await fetch(c,{cache:"no-cache"}),d=await o.json(),u=this._element.querySelector(".productBasedRelatedRecipes"),p=(0,e.qs)(i.loadMoreBtn,this._element),m=(0,e.qs)(".noresultsTemplate_hidden",this._element);null!=d&&d.recipeSearch&&JSON.parse(d.recipeSearch).length>0&&d.totalCount>0?(l||(u&&(u.innerHTML=""),this._handlingMaxCount(d.totalCount),p&&p.classList.remove("hide")),await this._initHandleBars(d,null,"productBasedRelatedRecipes"),p&&(u&&u.children.length>=u.getAttribute("data-total-results")?p.classList.add("hide"):u&&null!=u.getAttribute("data-user-max-results")?u.children.length>=u.getAttribute("data-user-max-results")&&p.classList.add("hide"):p.classList.remove("hide")),m&&(m.style.display="none")):(u&&u.children.length>0&&(u.innerHTML="",m&&(m.style.display="block")),p&&p.classList.add("hide")),this._cardElementClickingHandler()}async _relatedBasedCallLists(t,r,l){let s=(0,e.qs)(i.slider_item,this._element).getAttribute("data-total-results"),a=(0,e.qs)(i.slider_item,this._element).getAttribute("data-recipe-id"),n=(0,e.qs)(i.slider_item,this._element).getAttribute("data-recipe-template-path").split(".")[0],c=(0,e.qs)(".cmp-recipe-listing-items-container.relatedRecipes",this._element).getAttribute("data-recipe-group-filter");new URLSearchParams(JSON.parse(c)).toString();let o=`${window.location.origin}${n}.recipeListing.json?query=similar&recipeId=${a}&from=${t}&size=${r}${this.defaultSoryByStr}`;const d=await fetch(o,{cache:"no-cache"}),u=await d.json(),p=this._element.querySelector(".relatedRecipes"),m=(0,e.qs)(i.loadMoreBtn,this._element),h=(0,e.qs)(".noresultsTemplate_hidden",this._element);null!=u&&u.relatedRecipes&&u.relatedRecipes.length>0&&s>0?(l||(p&&(p.innerHTML=""),this._handlingMaxCount(s),m&&m.classList.remove("hide")),await this._initHandleBars(u,null,"relatedRecipes"),p&&p.children.length>=p.getAttribute("data-total-results")?(0,e.qs)(i.loadMoreBtn,this._element).classList.add("hide"):p&&null!=p.getAttribute("data-user-max-results")?p.children.length>=p.getAttribute("data-user-max-results")&&(0,e.qs)(i.loadMoreBtn,this._element).classList.add("hide"):(0,e.qs)(i.loadMoreBtn,this._element).classList.remove("hide"),h&&(h.style.display="none")):(p&&p.children.length>0||(p.innerHTML="",h&&(h.style.display="block")),m&&m.classList.add("hide")),this._cardElementClickingHandler()}_updateImageData(t,i){let r=this._element.getAttribute("data-component-lazyloadenabled");if((0,e.qs)(".imageTemplate_hidden",this._element)){let l;if("true"==r)(0,e.qs)(".imageTemplate_hidden > picture",this._element).classList.contains("lazy")||(0,e.qs)(".imageTemplate_hidden > picture",this._element).classList.add("lazy"),l=(0,e.qs)(".imageTemplate_hidden > picture",this._element).children,this._lazyLoadImageData(t,i,l);else{l=(0,e.qs)(".imageTemplate_hidden > picture",this._element).children;for(let e of l){if(e.hasAttribute("src")){let i=e.getAttribute("src");i=t,e.setAttribute("src",i)}else{let i=e.getAttribute("srcset");i=i.split("?"),i=t+"?"+i[1],e.setAttribute("srcset",i)}"IMG"===e.tagName&&i&&"string"==typeof i&&i.length&&e.setAttribute("alt",i)}}}return(0,e.qs)(".imageTemplate_hidden",this._element)}_lazyLoadImageData(e,i,r){for(let t of r){if(t.hasAttribute("media")){let i=t.getAttribute("data-src");i&&(i=i.split("?"),i=e+"?"+i[1],t.setAttribute("data-src",i))}else t.setAttribute("data-src",e);"IMG"===t.tagName&&i&&"string"==typeof i&&i.length&&t.setAttribute("alt",i)}const l=t.querySelectorAll(".lazy, .lazy>source"),s=new IntersectionObserver(((e,t)=>{e.forEach((e=>{if(e.isIntersecting){var t=e.target;if(t.hasAttribute("media")){let e=t.getAttribute("data-src");t.setAttribute("srcset",e)}else t.src=t.dataset.src;t.classList.remove("lazy"),s.unobserve(t)}}))}),{rootMargin:"0px 0px 50px 0px"});l&&l.forEach((e=>{s.observe(e)}));new MutationObserver((e=>{e.forEach((e=>{const t=e.addedNodes;t&&t.forEach((e=>{let t=e&&e.querySelectorAll&&e.querySelectorAll(".lazy , .lazy>source");t&&t.forEach((e=>{s.observe(e)}))}))}))})).observe(t.body,{childList:!0,subtree:!0})}_updateAttributeList(t,i,r,l,s,a,n,c){const o=(0,e.qs)(".attributeTemplate_hidden",this._element);return o&&(o.querySelector(".cookTime")&&(t?(o.querySelector(".cookTime").classList.remove("hide"),o.querySelector(".cookTime > p").innerHTML=t):o.querySelector(".cookTime").classList.add("hide")),o.querySelector(".prepTime")&&(i?(o.querySelector(".prepTime").classList.remove("hide"),o.querySelector(".prepTime > p").innerHTML=i):o.querySelector(".prepTime").classList.add("hide")),o.querySelector(".totalTime")&&(r?(o.querySelector(".totalTime").classList.remove("hide"),o.querySelector(".totalTime > p").innerHTML=r):o.querySelector(".totalTime").classList.add("hide")),o.querySelector(".difficulty")&&(l?(o.querySelector(".difficulty").classList.remove("hide"),o.querySelector(".difficulty > p").innerHTML=l):o.querySelector(".difficulty").classList.add("hide")),o.querySelector(".servings")&&(s?(o.querySelector(".servings").classList.remove("hide"),o.querySelector(".servings > p").innerHTML=s):o.querySelector(".servings").classList.add("hide")),o.querySelector(".healthyRecipeFramework")&&(a?(o.querySelector(".healthyRecipeFramework").classList.remove("hide"),o.querySelector(".healthyRecipeFramework > p").innerHTML=a):o.querySelector(".healthyRecipeFramework").classList.add("hide")),o.querySelector(".spiciness")&&(n?(o.querySelector(".spiciness").classList.remove("hide"),o.querySelector(".spiciness > p").innerHTML=n):o.querySelector(".spiciness").classList.add("hide")),o.querySelector(".calories")&&(c?(o.querySelector(".calories").classList.remove("hide"),o.querySelector(".calories > p").innerHTML=c):o.querySelector(".calories").classList.add("hide"))),(0,e.YJ)(".attributeTemplate_hidden",this._element)}_hourConversion(e){let t=[],i=Math.floor(e/60),r=e-60*i;return t.push(i,r),t}_commonHeadingManipulation(){let t=(0,e.qs)(i.slider_item,this._element).getAttribute("data-main-heading-tag").toLowerCase();return"h1"==t?"h2":"h2"==t?"h3":"h4"}_headingTagManipulations(){var t="";if((0,e.qs)(".cmp-dropdown-filter-section",this._element))t=this._commonHeadingManipulation();else if((0,e.YJ)(".cmp-filter-group",this._element).length>0){let i=(0,e.qs)(".cmp-filter-main-heading",this._element).tagName.toLowerCase();t="h3"==i?"h4":"h4"==i?"h5":"h6"}else t=this._commonHeadingManipulation();return t}_formationCmpDataLayerAttribute(e,r){let l=t.querySelector(i.wrapper,this._element).getAttribute("data-cmp-data-layer");var s={};return l=JSON.parse(l),"productBasedRelatedRecipes"==r?s[`${Object.keys(l)[0]}-item-${e.id}`]={recipeName:e.name,"@type":"unilever/components/recipes/recipelisting",recipeId:e.id}:"favourites"==r?s[`${Object.keys(l)[0]}-item-${e.recipeId}`||"0"]={recipeName:e.title,"@type":"unilever/components/recipes/recipelisting",recipeId:e.recipeId}:s[`${Object.keys(l)[0]}-item-${e.recipeData.recipeID}`]={recipeName:e.recipeData.recipeName,"@type":"unilever/components/recipes/recipelisting",recipeId:e.recipeData.recipeID},JSON.stringify(s)}_formationCmpDataLayerAttributeForLink(e,r,l,s){let a=t.querySelector(i.wrapper,this._element).getAttribute("data-cmp-data-layer");var n={};let c;return a=JSON.parse(a),"productBasedRelatedRecipes"==r?(s&&s.length&&(c=decodeURIComponent(s).replace("{{recipe-name}}",e.name).replace("{{recipe-id}}",e.id)),n[`${Object.keys(a)[0]}-item-${e.id}`]={"xdm:linkURL":c,"@type":"unilever/components/recipes/recipelisting","dc:title":l}):"favourites"==r?n[`${Object.keys(a)[0]}-item-${e.recipeId}`||"0"]={"xdm:linkURL":e.url,"@type":"unilever/components/recipes/recipelisting","dc:title":l}:(s&&s.length&&(c=decodeURIComponent(s).replace("{{recipe-name}}",e.recipeData.recipeName).replace("{{recipe-id}}",e.recipeData.recipeID)),n[`${Object.keys(a)[0]}-item-${e.recipeData.recipeID}`]={"xdm:linkURL":c,"@type":"unilever/components/recipes/recipelisting","dc:title":l}),JSON.stringify(n)}_formationSimilarButtonCmpDataLayerAttribute(e,i){let r=t.querySelectorAll(".cmp-recipe-listing-item .find-similar-items",this._element)[0],l=r&&r.getAttribute("data-cmp-data-layer");var s={};return l?(l=JSON.parse(l),"productBasedRelatedRecipes"==i?s[`${Object.keys(l)[0].split("-item")[0]}-item-${e.id}`]={recipeName:e.name,"@type":"unilever/components/recipes/similar-recipes",recipeId:e.id}:"favourites"==i?s[`${Object.keys(l)[0].split("-item")[0]}-item-${e.recipeId}`||"0"]={recipeName:e.title,"@type":"unilever/components/recipes/similar-recipes",recipeId:e.recipeId}:s[`${Object.keys(l)[0].split("-item")[0]}-item-${e.recipeData.recipeID}`]={recipeName:e.recipeData.recipeName,"@type":"unilever/components/recipes/similar-recipes",recipeId:e.recipeData.recipeID},JSON.stringify(s)):void 0}_initHandleBars(l,s,n,c=!1){return new Promise((async(o,d)=>{let u;if(0==(0,e.YJ)(".recipe-listing-template",this._element).length){const{recipeListingSource:e}=await a.e(4656).then(a.bind(a,4656));u=e}let p=0;if("relatedRecipes"==n?l=JSON.parse(l.relatedRecipes):"groupBasedList"==n?l=JSON.parse(l.recipeByGroups):"productBasedRelatedRecipes"==n?l=JSON.parse(l.recipeSearch):"favourites"==n||(p=l.totalCount,l=JSON.parse(l.recipeByGroups)),null!=l&&l.length>0){const{compile:o}=await a.e(2334).then(a.t.bind(a,2334,23));if("relatedRecipes"!=n&&"groupBasedList"!=n&&"productBasedRelatedRecipes"!=n&&"favourites"!=n){let t=(0,e.qs)(".total_results",this._element).getAttribute("data-results-text");(0,e.qs)(".total_results .result_count",this._element).innerText=p+" "+t.toLowerCase()}let d,h,g="true"==(0,e.qs)(i.slider_item,this._element).getAttribute("data-card-link-enabled").toLowerCase(),f="true"==(0,e.qs)(i.slider_item,this._element).getAttribute("data-ratings-show"),_=(0,e.qs)(i.slider_item,this._element).getAttribute("data-card-cta"),b=(0,e.qs)(i.slider_item,this._element).getAttribute("data-recipe-url-template");f?(d="kritique"==(0,e.qs)(i.slider_item,this._element).getAttribute("data-ratings-provider-type"),h="bazaarvoice"==(0,e.qs)(i.slider_item,this._element).getAttribute("data-ratings-provider-type")):(d=!1,h=!1);let y="false"==(0,e.qs)(i.slider_item,this._element).getAttribute("data-description-hide");var m="";let L,q="true"==(0,e.qs)(i.slider_item,this._element).getAttribute("data-showdietaryattributes");q&&(L=await this._dietaryAttributesCall(l,n)),"relatedRecipes"==n&&null!==s||"groupBasedList"==n&&null!==s||"productBasedRelatedRecipes"==n&&null!==s?(i.slider[this._index]&&(this._tnsIndex=i.slider[this._index].getInfo().index,i.slider[this._index].destroy()),(0,e.qs)(".cmp-recipe-listing-title",this._element)&&(m=(0,e.qs)(".cmp-recipe-listing-title",this._element).tagName.toLowerCase())):m=this._headingTagManipulations(),(0,e.qs)(".recipe-listing-template",this._element)&&(u=(0,e.qs)(".recipe-listing-template",this._element).innerHTML);let v="highlighted-tile",w=(0,e.qs)(i.slider_item,this._element).querySelectorAll(`.${v}`).length>0;if(l.forEach((r=>{let l=u;"productBasedRelatedRecipes"==n?l=l.replace(/{{recipeID}}/g,r.id):"favourites"!==n&&(l=l.replace(/{{recipeID}}/g,r.recipeData.recipeID));let s=o(l),a=(0,e.qs)(i.container,this._element).parentElement.getAttribute("data-buy-ingredients-label");var c=this._formationCmpDataLayerAttribute(r,n),p=this._formationCmpDataLayerAttributeForLink(r,n,a,b);let f,S,A,T,$=[];L&&L.forEach((e=>{e.recipeId==r.recipeData.recipeID&&($=e.dietaryClaim)}));let O,k="true"==(0,e.qs)(i.container,this._element).parentElement.getAttribute("data-recipe-brand-logo-enabled"),D="true"==(0,e.qs)(i.container,this._element).parentElement.getAttribute("data-find-similar-recipes-enabled"),E=(0,e.qs)(i.container,this._element).parentElement.getAttribute("data-find-similar-recipes-label"),B=this._formationSimilarButtonCmpDataLayerAttribute(r,n),x="true"==(0,e.qs)(i.container,this._element).parentElement.getAttribute("data-recipe-short-title-for-url-enabled");if(k&&r.recipeData.brands){JSON.parse((0,e.qs)(i.container,this._element).parentElement.getAttribute("data-brand-logo-mapping")).filter((e=>e.brand===r.recipeData.brands[0])).map((e=>(f=e.linkPath,S=e.imageUrl,A=e.alt,T=e.datalayerJson,{brandRedirectUrl:f,brandImageUrl:S,brandAltText:A,brandCmpDataAttribute:T})))}else k=!1;O=s("productBasedRelatedRecipes"==n?{name:r.name,description:r.description,kritiqueRatingsType:d,bazaarRatingType:h,descriptionShow:y,showMore:_,showHideMore:null==_?"hide":"",headingtag:m,recipeName:r.name,shortTitle:r.shortTitle,recipeId:r.id,recipeTemplateURL:b,cmpDataLayerAttribute:c,dietaryClaim:$,showRecipeDietaryAttributes:q,recipeBrandLogoEnabled:k,similarButtonEnabled:D,similarButtonLabel:E,similarButtonCmpDataLayerAttribute:B,brandRedirectUrl:f,brandImageUrl:S,brandAltText:A,brandCmpDataAttribute:T,buyNowUrl:r.buyNowUrl,buyNowLabel:a,cmpDataLayerAttributeForBuyNow:p,recipeShortTitleForUrlEnabled:!!x}:"favourites"==n?{name:r.title,description:r.description,kritiqueRatingsType:d,bazaarRatingType:h,descriptionShow:y,showMore:_,showHideMore:null==_?"hide":"",headingtag:m,recipeName:r.title,shortTitle:r.shortTitle,recipeId:r.recipeId,recipeTemplateURL:b,cmpDataLayerAttribute:c,showRecipeDietaryAttributes:q,isFavourite:!0,imageUrl:r.imageUrl,url:r.url,dietaryClaim:r.dietaryAttributes,recipeBrandLogoEnabled:k,similarButtonEnabled:D,similarButtonLabel:E,similarButtonCmpDataLayerAttribute:B,brandRedirectUrl:f,brandImageUrl:S,brandAltText:A,brandCmpDataAttribute:T,buyNowUrl:r.buyNowUrl,buyNowLabel:a,cmpDataLayerAttributeForBuyNow:p,recipeShortTitleForUrlEnabled:!!x}:{name:r.recipeData.name,description:r.recipeData.description,kritiqueRatingsType:d,bazaarRatingType:h,descriptionShow:y,showMore:_,showHideMore:null==_?"hide":"",headingtag:m,recipeName:r.recipeData.recipeName,shortTitle:r.recipeData.shortTitle,recipeId:r.recipeData.recipeID,recipeTemplateURL:b,cmpDataLayerAttribute:c,dietaryClaim:$,showRecipeDietaryAttributes:q,recipeBrandLogoEnabled:k,similarButtonEnabled:D,similarButtonLabel:E,similarButtonCmpDataLayerAttribute:B,brandRedirectUrl:f,brandImageUrl:S,brandAltText:A,brandCmpDataAttribute:T,buyNowUrl:r.recipeData.buyNowUrl,buyNowLabel:a,cmpDataLayerAttributeForBuyNow:p,recipeShortTitleForUrlEnabled:!!x});var j="cmp-recipe-listing-item";const I=t.createElement("li");if("favourites"==n&&(I.dataset.recipeId=r.recipeId),g?(I.classList.add(j),w&&I.classList.add(v),I.classList.add("enabledAnchorMode")):(I.classList.add(j),w&&I.classList.add(v)),I.innerHTML=O,"productBasedRelatedRecipes"==n){if(r.newImage&&r.newImage.length>0&&I.querySelector(".cmp-recipe-listing-image-container")){this._updateImageData(r.newImage[0].default.url,r.newImage[0].default.title);let t=(0,e.qs)(".imageTemplate_hidden",this._element).innerHTML;I.querySelector(".cmp-recipe-listing-image-container").innerHTML=t}}else if("favourites"!=n&&r.recipeData.newImage&&r.recipeData.newImage.length>0&&I.querySelector(".cmp-recipe-listing-image-container")){this._updateImageData(r.recipeData.newImage[0].default.url,r.recipeData.newImage[0].default.title);let t=(0,e.qs)(".imageTemplate_hidden",this._element).innerHTML;I.querySelector(".cmp-recipe-listing-image-container").innerHTML=t}"productBasedRelatedRecipes"==n?this._renderProductAtrributesInTemplate(r):this._renderAtrributesInTemplate(r);let C="",R=(0,e.qs)(".attributeTemplate_hidden",this._element);R&&(C=R.innerHTML),I.querySelector(".cmp-recipe-listing-attributes").innerHTML=C,(0,e.qs)(i.slider_item,this._element).appendChild(I)})),"relatedRecipes"==n&&null!==s||"groupBasedList"==n&&null!==s||"productBasedRelatedRecipes"==n&&null!==s){const t=(0,e.qs)(i.slider_item,this._element),{initslider:l}=await a.e(4310).then(a.bind(a,4310));l(i,r,i.recipeClass,t,this._element,c,this._index,this)}}const h=(0,e.YJ)(i.wrapper);h&&h.length&&h.forEach((async(t,l)=>{let s=(0,e.qs)(i.carousel_container,t);if(s&&!s.querySelector(i.noRecipe)){let t=(0,e.qs)(i.slider_item,s);if(t&&!i.isTnsLoadedOnDocument){const{initslider:e}=await a.e(4310).then(a.bind(a,4310));e(i,r,i.recipeClass,t,s,!1,l,null),i.isTnsLoadedOnHandlebar=!0}}})),this._cardElementClickingHandler(),this._isLoading=!1,o()}))}_renderProductAtrributesInTemplate(t){let r="true"==(0,e.qs)(i.slider_item,this._element).getAttribute("data-time-conversion"),l="",s="",a="",n="",c="",o="",d="",u="";if(t.cookTime&&t.prepTime&&t.totalTime)if(l=Number(t.cookTime.slice(2,-1)),s=Number(t.prepTime.slice(2,-1)),a=Number(t.totalTime.slice(2,-1)),r){let t=Number((0,e.qs)(i.slider_item,this._element).getAttribute("data-threshold-time")),r=(0,e.qs)(i.slider_item,this._element).getAttribute("data-time-hour-label"),n=(0,e.qs)(i.slider_item,this._element).getAttribute("data-time-hours-label"),c=(0,e.qs)(i.slider_item,this._element).getAttribute("data-time-minute-label"),o=(0,e.qs)(i.slider_item,this._element).getAttribute("data-time-minutes-label");if(l>t)if(l>60){let[e,t]=this._hourConversion(l);l=`${e} ${e>1?n:r} ${t} ${t>1?o:c}`}else{l=l+" "+(l>1?o:c)}else{l=l+" "+(l>1?o:c)}if(s>t)if(s>60){let[e,t]=this._hourConversion(s);s=`${e} ${e>1?n:r} ${t} ${t>1?o:c}`}else{s=s+" "+(s>1?o:c)}else{s=s+" "+(s>1?o:c)}if(a>t)if(a>60){let[e,t]=this._hourConversion(a);a=`${e} ${e>1?n:r} ${t} ${t>1?o:c}`}else{a=a+" "+(a>1?o:c)}else{a=a+" "+(a>1?o:c)}}else{let t=(0,e.qs)(i.slider_item,this._element).getAttribute("data-time-minutes-label");l=l+" "+t,s=s+" "+t,a=a+" "+t}t.difficulty&&t.difficulty[0]&&(n=t.difficulty[0]),t.healthyRecipeFramework&&t.healthyRecipeFramework[0]&&(c=t.healthyRecipeFramework[0]),t.spiciness&&t.spiciness[0]&&(o=t.spiciness[0]),t.calories&&(d=t.calories),t.recipeYield&&(u=t.recipeYield),this._updateAttributeList(l,s,a,n,u,c,o,d)}async findSimilarRecipes(e){if(e&&"true"===e.getAttribute("data-find-similar-recipes-enabled")){if("true"===e.getAttribute("data-event-listener-added"))return;let t=null;const i=new(0,(await a.e(1976).then(a.bind(a,1976))).default)(e);i.createFindSimilarElements(e);const r=e=>{const r=e.target;if(r&&r.matches("button.find-similar-items")){r.classList.add("find-similar-items-active");let e=t===r.dataset.recipeId;i.skipFetch(e),i.init(r,null,e),t=r.dataset.recipeId}};e.addEventListener("click",r),e.setAttribute("data-event-listener-added","true")}}_renderAtrributesInTemplate(t){let r="true"==(0,e.qs)(i.slider_item,this._element).getAttribute("data-time-conversion"),l="",s="",a="",n="",c="",o="",d="",u="";if(t.recipeData&&t.recipeData.cookTime&&t.recipeData.prepTime&&t.recipeData.totalTime)if(l=Number(t.recipeData.cookTime),s=Number(t.recipeData.prepTime),a=Number(t.recipeData.totalTime),r){let t=Number((0,e.qs)(i.slider_item,this._element).getAttribute("data-threshold-time")),r=(0,e.qs)(i.slider_item,this._element).getAttribute("data-time-hour-label"),n=(0,e.qs)(i.slider_item,this._element).getAttribute("data-time-hours-label"),c=(0,e.qs)(i.slider_item,this._element).getAttribute("data-time-minute-label"),o=(0,e.qs)(i.slider_item,this._element).getAttribute("data-time-minutes-label");if(l>t)if(l>60){let[e,t]=this._hourConversion(l);l=`${e} ${e>1?n:r} ${t} ${t>1?o:c}`}else{l=l+" "+(l>1?o:c)}else{l=l+" "+(l>1?o:c)}if(s>t)if(s>60){let[e,t]=this._hourConversion(s);s=`${e} ${e>1?n:r} ${t} ${t>1?o:c}`}else{s=s+" "+(s>1?o:c)}else{s=s+" "+(s>1?o:c)}if(a>t)if(a>60){let[e,t]=this._hourConversion(a);a=`${e} ${e>1?n:r} ${t} ${t>1?o:c}`}else{a=a+" "+(a>1?o:c)}else{a=a+" "+(a>1?o:c)}}else{let t=(0,e.qs)(i.slider_item,this._element).getAttribute("data-time-minutes-label");l=l+" "+t,s=s+" "+t,a=a+" "+t}t.recipeData&&t.recipeData.difficulty&&t.recipeData.difficulty[0]&&(n=t.recipeData.difficulty[0]),t.recipeData&&t.recipeData.healthyRecipeFramework&&t.recipeData.healthyRecipeFramework[0]&&(c=t.recipeData.healthyRecipeFramework[0]),t.recipeData&&t.recipeData.spiciness&&t.recipeData.spiciness[0]&&(o=t.recipeData.spiciness[0]),t.recipeData&&t.recipeData.calories&&(d=t.recipeData.calories),t.recipeData&&t.recipeData.validServingSizes&&(u=t.recipeData.validServingSizes),this._updateAttributeList(l,s,a,n,u,c,o,d)}_showHideFilter(){let t=(0,e.YJ)(`${i.filterDropdownSection} ${i.filterGroup}`,this._element).length;if((0,e.qs)(i.filterCount,this._element)&&((0,e.qs)(i.filterCount,this._element).innerHTML=`( ${t} Filters )`),(0,e.qs)(i.filterShowToggle,this._element)){let t=(0,e.qs)(i.slider_item,this._element).getAttribute("data-hide-filter"),r=(0,e.qs)(i.slider_item,this._element).getAttribute("data-show-filter"),l=(0,e.qs)(i.filterDropdownSection,this._element).getAttribute("data-collapse-filter");window.screen.width<=768&&(l="true"),"true"==l?((0,e.qs)(i.filterShowToggle,this._element).innerHTML=r,(0,e.qs)(i.filterShowToggle,this._element).classList.add("show-filter"),(0,e.qs)(i.filterShowToggle,this._element).setAttribute("aria-expanded",!1),(0,e.qs)(i.filterContainer,this._element)&&(0,e.qs)(i.filterContainer,this._element).classList.add("hide"),(0,e.qs)(i.applyFilterContainer,this._element)&&(0,e.qs)(i.applyFilterContainer,this._element).classList.add("hide"),(0,e.qs)(i.sortingFilter,this._element)&&(0,e.qs)(i.sortingFilter,this._element).classList.add("hide"),(0,e.qs)(i.filterShowToggle,this._element).parentElement.classList.add("textRight")):((0,e.qs)(i.filterShowToggle,this._element).innerHTML=t,(0,e.qs)(i.filterShowToggle,this._element).classList.add("hide-filter"),(0,e.qs)(i.filterShowToggle,this._element).setAttribute("aria-expanded",!0),(0,e.qs)(i.filterContainer,this._element)&&(0,e.qs)(i.filterContainer,this._element).classList.remove("hide"),(0,e.qs)(i.applyFilterContainer,this._element)&&(0,e.qs)(i.applyFilterContainer,this._element).classList.remove("hide"),(0,e.qs)(i.sortingFilter,this._element)&&(0,e.qs)(i.sortingFilter,this._element).classList.remove("hide"),(0,e.qs)(i.filterShowToggle,this._element).parentElement.classList.remove("textRight")),this._clickShowFilters(t,r)}}_clickShowFilters(t,r){let l=this;(0,e.qs)(i.filterShowToggle,this._element).addEventListener("click",(s=>{s.currentTarget.classList.contains("hide-filter")?(s.currentTarget.classList.remove("hide-filter"),s.currentTarget.classList.add("show-filter"),s.currentTarget.setAttribute("aria-expanded",!1),s.currentTarget.innerHTML=r,(0,e.qs)(".selected_filters_container",l._element).classList.add("hide"),s.currentTarget.parentElement.classList.add("textRight")):(s.currentTarget.classList.add("hide-filter"),s.currentTarget.classList.remove("show-filter"),s.currentTarget.setAttribute("aria-expanded",!0),s.currentTarget.innerHTML=t,(0,e.qs)(".selected_filters_container",l._element).innerHTML.length>0?(0,e.qs)(".selected_filters_container",l._element).classList.remove("hide"):(0,e.qs)(".selected_filters_container",l._element).classList.add("hide"),s.currentTarget.parentElement.classList.remove("textRight")),(0,e.qs)(".cmp-recipe-listing-filter",l._element).classList.toggle("hide"),(0,e.qs)(".apply_filters_container",l._element)&&(0,e.qs)(".apply_filters_container",l._element).classList.toggle("hide"),(0,e.qs)(i.sortingFilter,l._element)&&(0,e.qs)(i.sortingFilter,l._element).classList.toggle("hide")}))}_loadMore(){if((0,e.qs)(i.slider_item,this._element)){let t=Number((0,e.qs)(i.slider_item,this._element).getAttribute("data-items-loading"));this._itemsLoadingOnLoad(t),this._loadMoreClick(t)}}_itemsLoadingOnLoad(t){let r=(0,e.qs)(i.slider_item,this._element).querySelectorAll(".hide");if(r.length<=t||0==r.length){(0,e.qs)(i.loadMoreBtn,this._element)&&(0,e.qs)(i.loadMoreBtn,this._element).classList.add("hide");for(let e=0;e<t;e++){if(null==r[e])return;r[e].classList.remove("hide")}}else for(let e=0;e<t;e++){if(null==r[e])return;r[e].classList.remove("hide")}}_groupItemsLoadingOnLoad(t){let r=Number((0,e.qs)(i.slider_item,this._element).getAttribute("data-total-results")),l=(0,e.qs)(i.slider_item,this._element).querySelectorAll(".hide");if(r<=t&&l.length<=t){(0,e.qs)(i.loadMoreBtn,this._element)&&(0,e.qs)(i.loadMoreBtn,this._element).classList.add("hide");for(let e=0;e<t;e++){if(null==l[e])return;l[e].classList.remove("hide")}}else{(0,e.qs)(i.loadMoreBtn,this._element)&&(0,e.qs)(i.loadMoreBtn,this._element).classList.add("show");for(let e=0;e<t;e++){if(null==l[e])return;l[e].classList.remove("hide")}}}_loadMoreClick(t){let r=this;(0,e.YJ)(`${i.loadMoreBtn} button`,this._element).length>0&&(0,e.qs)(`${i.loadMoreBtn} button`,this._element).addEventListener("click",(()=>{r._itemsLoadingOnLoad(t)}))}_filterAccordian(){(0,e.YJ)(i.filterGroup,this._element).forEach(((t,r)=>{(0,e.qs)(i.filterTitle,t)&&(0,e.qs)(i.filterTitle,t).addEventListener("click",(r=>{if(t.classList.toggle("expanded"),"false"==(0,e.qs)("button",t).getAttribute("aria-expanded")?(0,e.qs)("button",t).setAttribute("aria-expanded","true"):(0,e.qs)("button",t).setAttribute("aria-expanded","false"),(0,e.qs)(i.filterItemsWrapper,t).classList.toggle("hide"),"true"===(0,e.qs)("button",t).getAttribute("aria-expanded")){let l=r.currentTarget.parentElement.querySelector(".cmp-filter-group.expanded .cmp-filter-group-items");l&&(l.children.length<=3?(0,e.qs)(i.showBtnWrapper,t).classList.add("hide"):(0,e.qs)(i.showBtnWrapper,t).classList.remove("hide"))}else(0,e.qs)(i.showBtnWrapper,t).classList.add("hide");(0,e.qs)(".select-clear-btn",t)&&(0,e.qs)(".select-clear-btn",t).classList.toggle("hide")}))}))}_filterItemsHide(){(0,e.YJ)(i.filterItemsWrapper,this._element).forEach(((t,r)=>{const l=Number(t.getAttribute("data-show-filters")),s=(0,e.YJ)(i.filterItems,t);if(s&&l){if(s.length<=l){const r=t.closest(i.filterGroup),l=r&&(0,e.qs)(i.showMoreBtn,r);l&&l&&l.classList.add("hide")}s.forEach(((e,t)=>{t>=l&&e.classList.add("hide")}))}}))}_selectAllClick(){let t=this;(0,e.YJ)(".select-all-btn",this._element).forEach(((i,r)=>{i&&i.addEventListener("click",(i=>{i.stopPropagation(),this.applyFiltersEnabled||(this.onFirstLoad=!1);let r=i.currentTarget.getAttribute("title");delete this.filtersObject[r];let l=(0,e.qs)(`.cmp-filter-group[data-item-group="${r}"] .cmp-filter-main-heading`,t._element),s=i.currentTarget.parentElement.parentElement.children[1].children;for(let e=0;e<s.length;e++)null==this.filtersObject[r]?this.filtersObject[r]=s[e].children[0].value:this.filtersObject[r]=this.filtersObject[r]+","+s[e].children[0].value,-1==this.filterListValues.indexOf(`${l.innerText}:${s[e].children[0].value}`)&&this.filterListValues.push(`${l.innerText}:${s[e].children[0].value}`),s[e].children[0].checked=!0;t._updateDataLayer(this.filterListValues,"add"),window.adobeDataLayer.push({event:"cmp:click",eventInfo:{path:"component."+this._recipeListID}});const a=new URLSearchParams(this.filtersObject).toString();this.queryString=a,this.applyFiltersEnabled||t._virtualApplyFilters()}))}))}_clearAllClick(){let t=this;(0,e.YJ)(".clear-all-btn",this._element).forEach(((i,r)=>{i&&i.addEventListener("click",(i=>{i.stopPropagation(),this.applyFiltersEnabled||(this.onFirstLoad=!1);let r=i.currentTarget.getAttribute("title");this.filtersObject[r]="";let l=i.currentTarget.parentElement.parentElement.children[1].children,s=(0,e.qs)(`.cmp-filter-group[data-item-group="${r}"] .cmp-filter-main-heading`,t._element);for(let e=0;e<l.length;e++){l[e].children[0].checked=!1;let t=this.filterListValues.indexOf(`${s.innerText}:${l[e].children[0].value}`);-1!=t&&this.filterListValues.splice(t,1)}t._updateDataLayer(this.filterListValues,"add"),window.adobeDataLayer.push({event:"cmp:click",eventInfo:{path:"component."+this._recipeListID}});const a=new URLSearchParams(this.filtersObject).toString();this.queryString=a,this.applyFiltersEnabled||t._virtualApplyFilters()}))}))}_showMoreClick(){(0,e.YJ)(i.showMoreBtn,this._element).forEach(((e,i)=>{e&&e.addEventListener("click",(i=>{let r=e.parentElement.previousElementSibling.children.length;for(let t=0;t<r;t++)e.parentElement.previousElementSibling.children[t].classList.remove("hide");e.classList.add("hide"),e.nextElementSibling.classList.remove("hide"),t.addEventListener("focusout",(e=>{if("show-more-btn hide"===e.target.className){let t=e.target.parentElement.parentElement,i=t.querySelectorAll(".cmp-filter-item"),r=Number(t.querySelector(".cmp-filter-group-items").getAttribute("data-show-filters"));"checkbox"==i[r].querySelector(".cmp-filter-input").type&&i[r].querySelector(".cmp-filter-input").focus()}}))}))}))}_showLessClick(){(0,e.YJ)(i.showLessBtn,this._element).forEach(((e,t)=>{e&&e.addEventListener("click",(t=>{let i=Number(e.parentElement.previousElementSibling.getAttribute("data-show-filters")),r=e.parentElement.previousElementSibling.children.length;for(let t=0;t<r;t++)t>=i&&e.parentElement.previousElementSibling.children[t].classList.add("hide");e.classList.add("hide"),e.previousElementSibling.classList.remove("hide")}))}))}}async function s(){const s=(0,e.YJ)(i.wrapper);s&&s.length&&s.forEach((async(t,s)=>{setTimeout((async()=>{let n=(0,e.qs)(i.carousel_container,t);if(i.recipeClass=new l({element:t,index:s}),n&&!n.querySelector(i.noRecipe)){let t=(0,e.qs)(i.slider_item,n);if(t&&!i.isTnsLoadedOnHandlebar){const{initslider:e}=await a.e(4310).then(a.bind(a,4310));e(i,r,i.recipeClass,t,n,!1,s,null),i.isTnsLoadedOnDocument=!0}}}),5*s);let n=t.querySelector(".cmp-recipe-listing-items-container")&&t.querySelector(".cmp-recipe-listing-items-container").getAttribute("data-ratings-show");if(n&&"true"==n){const{ratingsTabIndex:e}=await a.e(8651).then(a.bind(a,8651));new(window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver)((()=>{e(t,i)})).observe(t,{subtree:!0,childList:!0,characterData:!0})}}));const n=t.querySelector(i.userFavoriteRecipes);if(n){const{showFWLoader:e}=await a.e(92).then(a.bind(a,92));e(!0,i);const t=n.querySelector(".no-recipe");t&&(t.style.display="none")}t.querySelector(i.recipeEmbedVideoWrapper)&&a.e(4776).then(a.bind(a,4776))}t.addEventListener("recipe_data_loaded",(e=>{const{status:r}=e.detail,l=t.querySelectorAll(i.userFavoriteRecipes);l&&l.length&&l.forEach((async e=>{const{favouriteOnLoad:t}=await a.e(92).then(a.bind(a,92));t(r,i,e)}))})),"loading"!==t.readyState?s():t.addEventListener("DOMContentLoaded",s)}(window.document)}(),function(){var e=document.querySelectorAll(".recipelisting.recipe-transform");function t(){if(e)for(var t=0;t<e.length;t++){var i=e[t].querySelectorAll(".cmp-recipe-listing-item");i[0].querySelector(".cmp-recipe-listing-link").tabIndex=-1,i[0].innerHTML+="<button aria-label='Click on the button to see the meat free version of this recipe' class='recipe-transformer'>Click on the button to see the meat free version of this recipe</button>",i[1].querySelector(".cmp-recipe-listing-link").tabIndex=-1}}"loading"!==document.readyState?(t(),function(){var t=document.querySelectorAll(".recipe-transformer");if(t)for(var i=0;i<t.length;i++)!function(r){t[i].addEventListener("click",(function(){var t=e[r].querySelectorAll(".cmp-recipe-listing-items-container"),i=e[r].querySelectorAll(".cmp-recipe-listing-item");t[0].classList.add("transformed"),i[1].querySelector(".cmp-recipe-listing-link").tabIndex=0})),t[i].addEventListener("keypress",(function(){t[i].click()}))}(i)}()):document.addEventListener("DOMContentLoaded",t)}()}();